{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\arhoy\\\\Desktop\\\\gitHubSamples\\\\test-react-to-do-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\arhoy\\\\Desktop\\\\gitHubSamples\\\\test-react-to-do-app\\\\client\\\\src\\\\components\\\\todo\\\\TodoForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { addTodo, editTodo } from '../../actions/todo';\n\nconst TodoForm = ({\n  addTodo,\n  editTodo,\n  isAuthenticated,\n  todo: {\n    currentTodo\n  },\n  inputRef\n}) => {\n  useEffect(() => {\n    if (currentTodo) {\n      setText(currentTodo.text);\n    }\n  }, [currentTodo]);\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        text = _useState2[0],\n        setText = _useState2[1];\n\n  const onChangeHandler = e => setText(e.target.value);\n\n  const onSubmitHandler = e => {\n    e.preventDefault(); // if todo edit todo\n\n    if (currentTodo) {\n      console.log(currentTodo._id);\n      editTodo(currentTodo._id, {\n        text\n      });\n    } else {\n      addTodo({\n        text\n      });\n    }\n\n    setText('');\n  };\n\n  if (!isAuthenticated) return React.createElement(Redirect, {\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  });\n  return React.createElement(\"div\", {\n    className: \"TodoForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: onSubmitHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group form-group--todo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    style: {\n      width: \"\".concat(Math.max(text.length, 20), \"rem\")\n    },\n    type: \"text\",\n    placeholder: \" Add new Todo \",\n    onChange: onChangeHandler,\n    name: \"text\",\n    value: text,\n    required: true,\n    ref: inputRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }))));\n};\n\nTodoForm.propTypes = {\n  addTodo: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  todo: state.todo\n});\n\nexport default connect(mapStateToProps, {\n  addTodo,\n  editTodo\n})(TodoForm);","map":{"version":3,"sources":["C:\\Users\\arhoy\\Desktop\\gitHubSamples\\test-react-to-do-app\\client\\src\\components\\todo\\TodoForm.js"],"names":["React","useState","useEffect","PropTypes","Redirect","connect","addTodo","editTodo","TodoForm","isAuthenticated","todo","currentTodo","inputRef","setText","text","onChangeHandler","e","target","value","onSubmitHandler","preventDefault","console","log","_id","width","Math","max","length","propTypes","func","isRequired","bool","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { addTodo, editTodo } from '../../actions/todo';\r\n\r\nconst TodoForm = ({addTodo, editTodo, isAuthenticated, todo: { currentTodo }, inputRef }) => {\r\n    useEffect( ()=> {\r\n        if( currentTodo ) {\r\n            setText( currentTodo.text );\r\n        }\r\n    },[currentTodo])\r\n\r\n    const [ text, setText ] = useState('');\r\n\r\n\r\n    const onChangeHandler = e => setText(e.target.value);\r\n\r\n    const onSubmitHandler = e => {\r\n        e.preventDefault();\r\n\r\n            // if todo edit todo\r\n        if( currentTodo ){\r\n            console.log(currentTodo._id);\r\n            editTodo(currentTodo._id, { text });\r\n        } else {\r\n            addTodo({ text });\r\n        }\r\n     \r\n        setText('');\r\n    }\r\n\r\n    if(!isAuthenticated) return <Redirect to = \"/login\" />\r\n\r\n    return (\r\n        <div className = \"TodoForm\">\r\n            <form\r\n                className = \"form\"\r\n                onSubmit = { onSubmitHandler }\r\n            >\r\n\r\n                <div className = \"form-group form-group--todo\">\r\n                    <input \r\n                        style = {{width: `${Math.max(text.length, 20)}rem` }}\r\n                        type=\"text\"\r\n                        placeholder = ' Add new Todo ' \r\n                        onChange = { onChangeHandler }\r\n                        name = \"text\"\r\n                        value = { text }\r\n                        required\r\n                        ref = { inputRef }\r\n                    />\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nTodoForm.propTypes = {\r\n    addTodo: PropTypes.func.isRequired,\r\n    isAuthenticated: PropTypes.bool\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    todo: state.todo\r\n})\r\n\r\nexport default connect(mapStateToProps, { addTodo, editTodo } )(TodoForm);\r\n"]},"metadata":{},"sourceType":"module"}